(()=>{"use strict";const e=require("path"),t=require("express"),s=t(),r=__dirname,i=e.join(r,"index.html");s.use(((e,t,s)=>{if("https"!==e.headers["x-forwarded-proto"]){if(3===(r=e.headers.host.split(".")).length&&"www"===r[0])return t.redirect("https://"+e.headers.host+e.url);if(2===r.length)return t.redirect("https://www."+e.headers.host+e.url);s()}else{var r;if(2===(r=e.headers.host.split(".")).length)return t.redirect("https://www."+e.headers.host+e.url);s()}})),s.use(t.static(r)),s.get("*",((e,t)=>{t.sendFile(i)}));const h=process.env.PORT||8080;s.listen(h,(()=>{console.log(`App listening to ${h}....`),console.log("Press Ctrl+C to quit.")}))})();